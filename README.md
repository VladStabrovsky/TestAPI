# Опис тестового завдання

Використані існтрументи:<br> 
Python 3.11<br> 
Фреймворк: Django та DRF<br> 
СКБД: MySQL<br> 


Реалізовані методи та моделі знаходтся в TestAPI/API<br> 

Дати в базі даних повинні зберігатися в форматі YYYY-MM-DD<br> 

Реалізованні методи:<br> 
user_credits - GET метод з URL-адресою "host/user_credits/<int:user_id>", де <int:user_id> - id клієнта.<br>
Повертає інформацію про всі кредити вказаного клієнта у вигляді JSON.<br>
JSON містить:<br>
-credits - масив кредитів клієнта<br>
	кожен елемент масиву credits містить:<br>
	-issuance_date - дата видачі кредиту<br>
	-return_date - дата повернення кредиту<br>
	-body - сума виданого кредиту<br>
	-percent - сума нарахованих відсотків<br>
	-close - статус кредиту (true - кредит закрит, false - кредит відкритий)<br>
	якщо кредит закрит (close=true):<br>
		-payments_sum - сума платежів за кредитом<br>
	якщо кредит відкритий (close=false):<br>
		-overdue_days - кілкість просрочених днів<br>
		-payments_sum_body - сума платежів за тілом кредиту<br>
		-payments_sum_percent - сума платежів за відстоками кредиту<br>


plans_insert - POST метод з URL-адресою "host/plans_insert"<br>
Отримує csv файл, зчитує з нього дані про плани, додає плани в базу даних, повертає результат успішності/неуспішності додавання в базу даних у вигляді JSON.<br>
Вхідний csv файл в першому рядку повинен містити наступні назви стовпців:<br>
-period - дата плану<br>
-category - назва катекорії плану<br>
-sum - сума плану<br>
В наступних рядка міститься дані планів.<br>
Cтовпці повинні бути розділенні одним символом табуляції.<br>
JSON містить:<br>
-plans - масив результату додавання планів в базу даних<br>
	Кожен елемент масиву plans містить:<br>
	-period - дата плану<br>
	-category - назва катекорії плану<br>
	-sum - сума плану<br>
	-success - успішність додавання в базу даних (true - план додано в базу даних, false - план не додано в базу даних)<br>
	-message - повідомлення успішності/неуспішності додавання в базу даних<br>


plans_performance - GET метод з URL-адресою "host/plans_performance?date=<date>", де \<date\> -  дата, станом на яку відбувається перевірка виконання планів в форматі d.m.Y .<br>
Приймає дату та повертає дані про усі плани, що мают дату меншу за задану, у вигляді JSON.<br>
JSON містить:<br>
-plans - масив планів<br>
	кожен елемент масиву plans містить:<br>
	-period - місяц плану у вигляді YYYY-MM-DD<br>
	-category - категорія плану<br>
	-sum - сума плану<br>
	-percent - відсоток виконання плану<br>
	якщо категорія плану "видача":<br>
		-credits_sum - сума виданих кредитів<br>
	якщо категорія плану "збір":<br>
		-payments_sum - сума платежів<br>


year_performance - GET метод з URL-адресою "host/year_performance?year=<year>", де \<year\> - рік за який збирается статистика.<br>
Отримує рік, та повертає зведену помісячну інформацію у вигляді JSON.<br>
JSON містить:<br>
-months - масив місяців<br>
	кожен елемент масиву months містить:<br>
	-period - дата місяцю у вигляді m.Y<br>
	-credits_count - кількість виданих кредитів<br>
	-credits_sum - сума тіл виданих кредитів<br>
	-year_credits_percent - відсоток суми виданих кредитів за місяц відносно суми виданих кредитів за рік<br>
	-payments_count - кілкість платежів<br>
	-payments_sum - сума платежів<br>
	-year_payments_percent - відсоток суми платежів за місяц відносно суми платежів за рік<br>
	-credits_plan_sum - сума плана "видача"<br>
	-credits_percent - відсоток суми виданих кредитів за місяц відносно плану місяця<br>
	-payments_plan_sum - сума плана "збір"<br>
	-payments_percent - відсоток суми платежів за місяц відносно плану місяця<br>
	Поля credits_plan_sum, credits_plan_sum, credits_percent, payments_plan_sum, payments_plan_sum, payments_percent можуть бути відсутні якщо в базі даних відсутні відповідні плани.<br>
	Поля year_credits_percent, year_payments_percent, credits_percent, payments_percent можуть бути відсутні якщо значеня відносно яких рахуеться відсоток дорівнює 0 (уникнення ділення на 0).	<br>